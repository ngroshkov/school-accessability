x.axis.name <- ""
y.axis.name <- ""
title <- ""
}
freqhist.choise <- ggplot(buildings, aes_string(x=field, weight = "STUDENTS")) +
#  geom_histogram(fill=colors$COLOR, binwidth = 1) +
geom_bar(fill=colors$COLOR, width = 1) +
#  scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14), labels=c("","","","","","","","","","","","","","","")) +
#  scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340), labels=c("","","","")) +
#  stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14)) +
scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340)) +
# stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
#  geom_text(aes(y=..count.., label=..count..), stat="count", color="white", hjust=1.0, size=3) +
#  geom_text(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
geom_text(aes(label=..count..), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
theme(legend.position="none") +
theme_minimal() +
ggtitle(title);
freqhist.choise;
}
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_R500", FALSE)
freqhist.choise  <- function(buildings, field, show.titles = TRUE) {
buildings$STUDENTS <- buildings$STUDENTS/1000;
#  colors <- data.frame(ID=c(0:19), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c", "#eda813",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700", "#7bed00",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
#                                             "#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
#  colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d",
#                                             "#1e9094", "#166d8a", "#114d82"))
colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c",
"#f7d707", "#fcf403", "#c6f700", "#7bed00",
"#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
"#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
colors <- colors[colors$ID %in% unique(buildings[[field]]),]
x.axis.name <- "\nКоличество доступных школ"
y.axis.name <- "\nКоличество школьников\n(тыс. чел.)"
title <- comment(buildings[[field]])
if (!show.titles) {
x.axis.name <- ""
y.axis.name <- ""
title <- ""
}
freqhist.choise <- ggplot(buildings, aes_string(x=field, weight = "STUDENTS")) +
#  geom_histogram(fill=colors$COLOR, binwidth = 1) +
geom_bar(fill=colors$COLOR, width = 1) +
#  scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14), labels=c("","","","","","","","","","","","","","","")) +
#  scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340), labels=c("","","","")) +
#  stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14)) +
scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340)) +
# stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
#  geom_text(aes(y=..count.., label=..count..), stat="count", color="white", hjust=1.0, size=3) +
#  geom_text(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
geom_text( size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
theme(legend.position="none") +
theme_minimal() +
ggtitle(title);
freqhist.choise;
}
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_R500", FALSE)
View(buildings)
freqhist.choise  <- function(buildings, field, show.titles = TRUE) {
buildings$STUDENTS <- buildings$STUDENTS/1000;
#  colors <- data.frame(ID=c(0:19), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c", "#eda813",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700", "#7bed00",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
#                                             "#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
#  colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d",
#                                             "#1e9094", "#166d8a", "#114d82"))
colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c",
"#f7d707", "#fcf403", "#c6f700", "#7bed00",
"#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
"#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
colors <- colors[colors$ID %in% unique(buildings[[field]]),]
x.axis.name <- "\nКоличество доступных школ"
y.axis.name <- "\nКоличество школьников\n(тыс. чел.)"
title <- comment(buildings[[field]])
if (!show.titles) {
x.axis.name <- ""
y.axis.name <- ""
title <- ""
}
freqhist.choise <- ggplot(buildings, aes_string(x=field, weight = "STUDENTS")) +
#  geom_histogram(fill=colors$COLOR, binwidth = 1) +
geom_bar(fill=colors$COLOR, width = 1) +
#  scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14), labels=c("","","","","","","","","","","","","","","")) +
#  scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340), labels=c("","","","")) +
#  stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14)) +
scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340)) +
# stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
#  geom_text(aes(y=..count.., label=..count..), stat="count", color="white", hjust=1.0, size=3) +
#  geom_text(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
geom_text(aes(label=..count..), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
theme(legend.position="none") +
theme_minimal() +
ggtitle(title);
freqhist.choise;
}
View(buildings)
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_R500", FALSE)
freqhist.choise  <- function(buildings, field, show.titles = TRUE) {
buildings$STUDENTS <- buildings$STUDENTS/1000;
#  colors <- data.frame(ID=c(0:19), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c", "#eda813",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700", "#7bed00",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
#                                             "#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
#  colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d",
#                                             "#1e9094", "#166d8a", "#114d82"))
colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c",
"#f7d707", "#fcf403", "#c6f700", "#7bed00",
"#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
"#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
colors <- colors[colors$ID %in% unique(buildings[[field]]),]
x.axis.name <- "\nКоличество доступных школ"
y.axis.name <- "\nКоличество школьников\n(тыс. чел.)"
title <- comment(buildings[[field]])
if (!show.titles) {
x.axis.name <- ""
y.axis.name <- ""
title <- ""
}
freqhist.choise <- ggplot(buildings, aes_string(x=field, weight = "STUDENTS")) +
#  geom_histogram(fill=colors$COLOR, binwidth = 1) +
geom_bar(fill=colors$COLOR, width = 1) +
#  scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14), labels=c("","","","","","","","","","","","","","","")) +
#  scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340), labels=c("","","","")) +
#  stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14)) +
scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340)) +
# stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
#  geom_text(aes(y=..count.., label=..count..), stat="count", color="white", hjust=1.0, size=3) +
#  geom_text(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
geom_text(stat="bin", aes(label=..count..), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
theme(legend.position="none") +
theme_minimal() +
ggtitle(title);
freqhist.choise;
}
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_R500", FALSE)
freqhist.choise  <- function(buildings, field, show.titles = TRUE) {
buildings$STUDENTS <- buildings$STUDENTS/1000;
#  colors <- data.frame(ID=c(0:19), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c", "#eda813",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700", "#7bed00",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
#                                             "#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
#  colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d",
#                                             "#1e9094", "#166d8a", "#114d82"))
colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c",
"#f7d707", "#fcf403", "#c6f700", "#7bed00",
"#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
"#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
colors <- colors[colors$ID %in% unique(buildings[[field]]),]
x.axis.name <- "\nКоличество доступных школ"
y.axis.name <- "\nКоличество школьников\n(тыс. чел.)"
title <- comment(buildings[[field]])
if (!show.titles) {
x.axis.name <- ""
y.axis.name <- ""
title <- ""
}
freqhist.choise <- ggplot(buildings, aes_string(x=field, weight = "STUDENTS")) +
#  geom_histogram(fill=colors$COLOR, binwidth = 1) +
geom_bar(fill=colors$COLOR, width = 1) +
#  scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14), labels=c("","","","","","","","","","","","","","","")) +
#  scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340), labels=c("","","","")) +
#  stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14)) +
scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340)) +
# stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
#  geom_text(aes(y=..count.., label=..count..), stat="count", color="white", hjust=1.0, size=3) +
#  geom_text(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
geom_text(stat="count", aes(label=..count..), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
theme(legend.position="none") +
theme_minimal() +
ggtitle(title);
freqhist.choise;
}
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_R500", FALSE)
freqhist.choise  <- function(buildings, field, show.titles = TRUE) {
buildings$STUDENTS <- buildings$STUDENTS/1000;
#  colors <- data.frame(ID=c(0:19), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c", "#eda813",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700", "#7bed00",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
#                                             "#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
#  colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d",
#                                             "#1e9094", "#166d8a", "#114d82"))
colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c",
"#f7d707", "#fcf403", "#c6f700", "#7bed00",
"#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
"#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
colors <- colors[colors$ID %in% unique(buildings[[field]]),]
x.axis.name <- "\nКоличество доступных школ"
y.axis.name <- "\nКоличество школьников\n(тыс. чел.)"
title <- comment(buildings[[field]])
if (!show.titles) {
x.axis.name <- ""
y.axis.name <- ""
title <- ""
}
freqhist.choise <- ggplot(buildings, aes_string(x=field, weight = "STUDENTS")) +
#  geom_histogram(fill=colors$COLOR, binwidth = 1) +
geom_bar(fill=colors$COLOR, width = 1) +
#  scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14), labels=c("","","","","","","","","","","","","","","")) +
#  scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340), labels=c("","","","")) +
#  stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14)) +
scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340)) +
# stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
#  geom_text(aes(y=..count.., label=..count..), stat="count", color="white", hjust=1.0, size=3) +
#  geom_text(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
geom_text(stat="count", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
theme(legend.position="none") +
theme_minimal() +
ggtitle(title);
freqhist.choise;
}
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_R500", FALSE)
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_AREA", FALSE)
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_COMPLEX", FALSE)
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_R500", FALSE)
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_R500", TRUE)
freqhist.choise  <- function(buildings, field, show.titles = TRUE) {
buildings$STUDENTS <- buildings$STUDENTS/1000;
#  colors <- data.frame(ID=c(0:19), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c", "#eda813",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700", "#7bed00",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
#                                             "#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
#  colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d",
#                                             "#1e9094", "#166d8a", "#114d82"))
colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c",
"#f7d707", "#fcf403", "#c6f700", "#7bed00",
"#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
"#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
colors <- colors[colors$ID %in% unique(buildings[[field]]),]
x.axis.name <- "\nКоличество доступных школ"
y.axis.name <- "\nКоличество школьников\n(тыс. чел.)"
title <- comment(buildings[[field]])
if (!show.titles) {
x.axis.name <- ""
y.axis.name <- ""
title <- ""
}
freqhist.choise <- ggplot(buildings, aes_string(x=field, weight = "STUDENTS")) +
#  geom_histogram(fill=colors$COLOR, binwidth = 1) +
geom_bar(fill=colors$COLOR, width = 1) +
#  scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14), labels=c("","","","","","","","","","","","","","","")) +
#  scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340), labels=c("","","","")) +
#  stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14)) +
scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340)) +
# stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
#  geom_text(aes(y=..count.., label=..count..), stat="count", color="white", hjust=1.0, size=3) +
#  geom_text(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
#  geom_text(stat="count", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
theme(legend.position="none") +
theme_minimal() +
ggtitle(title);
freqhist.choise;
}
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_R500", TRUE)
freqhist.choise  <- function(buildings, field, show.titles = TRUE) {
buildings$STUDENTS <- buildings$STUDENTS/1000;
#  colors <- data.frame(ID=c(0:19), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c", "#eda813",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700", "#7bed00",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
#                                             "#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
#  colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c", "#cc5e33", "#d97529", "#e68e1c",
#                                             "#f2c00c", "#f7d707", "#fcf403", "#c6f700",
#                                             "#35e300", "#02d609", "#0ec441", "#17b36d",
#                                             "#1e9094", "#166d8a", "#114d82"))
colors <- data.frame(ID=c(0:14), COLOR = c("#c2523c",
"#f7d707", "#fcf403", "#c6f700", "#7bed00",
"#35e300", "#02d609", "#0ec441", "#17b36d", "#1e9e84",
"#1e9094", "#166d8a", "#114d82", "#0c2f7a", "#081e4e"))
colors <- colors[colors$ID %in% unique(buildings[[field]]),]
x.axis.name <- "\nКоличество доступных школ"
y.axis.name <- "\nКоличество школьников\n(тыс. чел.)"
title <- comment(buildings[[field]])
if (!show.titles) {
x.axis.name <- ""
y.axis.name <- ""
title <- ""
}
freqhist.choise <- ggplot(buildings, aes_string(x=field, weight = "STUDENTS")) +
#  geom_histogram(fill=colors$COLOR, binwidth = 1) +
geom_bar(fill=colors$COLOR, width = 1) +
#  scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14), labels=c("","","","","","","","","","","","","","","")) +
#  scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340), labels=c("","","","")) +
#  stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
scale_x_discrete(name=x.axis.name, expand = c(0,2), limits=c(0:14)) +
scale_y_continuous(name=y.axis.name, breaks=seq(0, 325, by = 100), limits=c(0, 340)) +
# stat_bin(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
#  geom_text(aes(y=..count.., label=..count..), stat="count", color="white", hjust=1.0, size=3) +
#  geom_text(binwidth=1, geom="text", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
geom_text(stat="count", aes(label=round(..count..)), size=3.5, colour="#4C4646", fontface="bold", vjust=-0.5) +
theme(legend.position="none") +
theme_minimal() +
ggtitle(title);
freqhist.choise;
}
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_R500", TRUE)
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_SNIP", TRUE)
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_SNIP", FALSE)
save.image()
View(school2building.r800)
View(school2building.snip)
View(school2building.catchment)
View(school2building.catchment.complex)
View(schools)
school2building.snip1 <- merge(school2building.snip, schools, by.x = "SCHOOL_ID", by.y = "ID", all.x=TRUE)
View(school2building.snip1)
school2building.snip1 <- school2building.snip1[[4]]
school2building.snip1 <- merge(school2building.snip, schools, by.x = "SCHOOL_ID", by.y = "ID", all.x=TRUE)
school2building.snip1[[4]] <- NULL
school2building.snip1[[4]] <- NULL
school2building.snip1[[4]] <- NULL
school2building.snip1[[4]] <- NULL
school2building.snip1[[4]] <- NULL
school2building.snip1[[4]] <- NULL
school2building.snip1[[4]] <- NULL
school2building.snip1[[4]] <- NULL
school2building.snip1[[5]] <- NULL
school2building.snip1[[5]] <- NULL
school2building.snip1[[5]] <- NULL
school2building.snip1[[5]] <- NULL
school2building.snip1[[5]] <- NULL
school2building.snip1[[5]] <- NULL
school2building.snip <- school2building.snip1
rm(school2building.snip1)
school2building.catchment1 <- merge(school2building.catchment, schools, by.x = "SCHOOL_ID", by.y = "ID", all.x=TRUE)
View(school2building.catchment1)
school2building.catchment[[3]] <- NULL
View(school2building.catchment)
school2building.catchment1[[3]] <- NULL
View(school2building.catchment1)
school2building.catchment1[[3]] <- NULL
school2building.catchment1[[3]] <- NULL
school2building.catchment1[[3]] <- NULL
school2building.catchment1[[3]] <- NULL
school2building.catchment1[[3]] <- NULL
View(school2building.catchment1)
school2building.catchment1[[3]] <- NULL
school2building.catchment1[[3]] <- NULL
View(school2building.catchment1)
school2building.catchment1[[4]] <- NULL
school2building.catchment1[[4]] <- NULL
school2building.catchment1[[4]] <- NULL
View(school2building.catchment1)
school2building.catchment1[[4]] <- NULL
school2building.catchment1[[4]] <- NULL
school2building.catchment1[[4]] <- NULL
View(school2building.catchment1)
school2building.catchment <- school2building.catchment1
rm(school2building.catchment1)
View(school2building.catchment.complex.old)
school2building.catchment.complex1 <- merge(school2building.catchment.complex, schools, by.x = "SCHOOL_ID", by.y = "ID", all.x=TRUE)
View(school2building.catchment.complex1)
school2building.catchment.complex1[[4]] <- NULL
school2building.catchment.complex1[[4]] <- NULL
school2building.catchment.complex1[[4]] <- NULL
school2building.catchment.complex1[[4]] <- NULL
school2building.catchment.complex1[[4]] <- NULL
school2building.catchment.complex1[[4]] <- NULL
school2building.catchment.complex1[[4]] <- NULL
school2building.catchment.complex1[[4]] <- NULL
school2building.catchment.complex1[[5]] <- NULL
school2building.catchment.complex1[[5]] <- NULL
school2building.catchment.complex1[[5]] <- NULL
school2building.catchment.complex1[[5]] <- NULL
school2building.catchment.complex1[[5]] <- NULL
school2building.catchment.complex1[[5]] <- NULL
names(school2building.catchment.complex1)
names(school2building.catchment.complex1)[3]
names(school2building.catchment.complex1)[3] <- "COMPLEX_ID"
school2building.catchment.complex <- school2building.catchment.complex1
View(school2building.catchment.complex)
rm (school2building.catchment.complex1)
save.image()
save.image()
savehistory()
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_SNIP", TRUE)
View(buildings)
s <- school2building.snip[school2building.snip$RATING >= 400,]
View(s)
s <- na.omit(school2building.snip)
school2building.snip.400 <- s
s$R <- strtoi(s$RATING)
s[s$R <= 100,]
s1 <- s[s$R <= 100,]
View(s1)
s1$R <- NULL
school2building.snip.100 <- s1
rm(s, s1)
save.image()
savehistory()
s <- na.omit(school2building.catchment)
View(s)
school2building.catchment.400 <- s
s1 <- s[s$RATING <= 100,]
school2building.catchment.100 <- s1
rm(s, s1)
s <- na.omit(school2building.catchment.complex)
s1 <- s[s$RATING <= 100,]
school2building.catchment.complex.400 <- s1
school2building.catchment.complex.400 <- s
school2building.catchment.complex.100 <- s1
rm(s, s1)
a <- aggregate(school2building.snip.400, by=list(school2building.snip.400$BUILDING_ID), FUN=count)
a <- aggregate(school2building.snip.400, by=list(school2building.snip.400$BUILDING_ID), count)
mean
count
cnt
a <- aggregate(school2building.snip.400, by=list(school2building.snip.400$BUILDING_ID), FUN=length)
View(a)
a <- aggregate(school2building.snip.400, list(BUILDING_ID=school2building.snip.400$BUILDING_ID), length)
a1 <- aggregate(school2building.snip, list(BUILDING_ID=school2building.snip$BUILDING_ID), length)
View(a1)
rm(a1)
a1 <- aggregate(school2building.snip.100, list(BUILDING_ID=school2building.snip.100$BUILDING_ID), length)
View(a1)
a$RATING <- NULL
View(a)
a$DIST <- NULL
a$BUILDING_ID <- NULL
a <- aggregate(school2building.snip.400, list(BUILDING_ID=school2building.snip.400$BUILDING_ID), length)
View(a)
names(a)
a <- a[1:2]
View(a)
a1 <- a1[1:2]
names(a)
names(a)[1]
names(a)[2]
names(buildings)
names(a)[2] <- "ACCESSIBLE_SCHOOLS_SNIP_400"
names(a1)[2] <- "ACCESSIBLE_SCHOOLS_SNIP_100"
buildings1 <- merge(buildings, a, by.x = "ID", by.y = "BUILDING_ID", all.x=TRUE)
View(buildings1)
buildings1[is.na(buildings1$ACCESSIBLE_SCHOOLS_SNIP_400)]
buildings1[is.na(buildings1$ACCESSIBLE_SCHOOLS_SNIP_400),]
buildings1[is.na(buildings1$ACCESSIBLE_SCHOOLS_SNIP_400),] <- 0
View(buildings1)
buildings1 <- merge(buildings, a, by.x = "ID", by.y = "BUILDING_ID", all.x=TRUE)
buildings1[is.na(buildings1$ACCESSIBLE_SCHOOLS_SNIP_400)] <- 0
buildings1$ACCESSIBLE_SCHOOLS_SNIP_400[is.na(buildings1$ACCESSIBLE_SCHOOLS_SNIP_400)] <- 0
buildings <- buildings1
buildings1 <- merge(buildings, a1, by.x = "ID", by.y = "BUILDING_ID", all.x=TRUE)
buildings1$ACCESSIBLE_SCHOOLS_SNIP_100[is.na(buildings1$ACCESSIBLE_SCHOOLS_SNIP_100)] <- 0
buildings <- buildings1
rm(buildings1)
save.image()
a <- aggregate(school2building.catchment.400, list(BUILDING_ID=school2building.catchment.400$BUILDING_ID), length)
a1 <- aggregate(school2building.catchment.100, list(BUILDING_ID=school2building.catchment.100$BUILDING_ID), length)
View(a)
View(a1)
a <- a[1:2]
a1 <- a1[1:2]
names(buildings)
names(a)[2] <- "ACCESSIBLE_SCHOOLS_AREA_400"
names(a1)[2] <- "ACCESSIBLE_SCHOOLS_AREA_100"
buildings1 <- merge(buildings, a, by.x = "ID", by.y = "BUILDING_ID", all.x=TRUE)
buildings1$ACCESSIBLE_SCHOOLS_AREA_400[is.na(buildings1$ACCESSIBLE_SCHOOLS_AREA_400)] <- 0
buildings <- buildings1
buildings1 <- merge(buildings, a1, by.x = "ID", by.y = "BUILDING_ID", all.x=TRUE)
buildings1$ACCESSIBLE_SCHOOLS_AREA_100[is.na(buildings1$ACCESSIBLE_SCHOOLS_AREA_100)] <- 0
buildings <- buildings1
save.image()
savehistory()
a <- aggregate(school2building.catchment.complex.400, list(BUILDING_ID=school2building.catchment.complex.400$BUILDING_ID), length)
a1 <- aggregate(school2building.catchment.complex.100, list(BUILDING_ID=school2building.catchment.complex.100$BUILDING_ID), length)
a <- a[1:2]
a1 <- a1[1:2]
names(a)[2] <- "ACCESSIBLE_SCHOOLS_COMPLEX_400"
names(a1)[2] <- "ACCESSIBLE_SCHOOLS_COMPLEX_100"
buildings1 <- merge(buildings, a, by.x = "ID", by.y = "BUILDING_ID", all.x=TRUE)
View(buildings1)
buildings1$ACCESSIBLE_SCHOOLS_COMPLEX_400[is.na(buildings1$ACCESSIBLE_SCHOOLS_COMPLEX_400)] <- 0
buildings <- buildings1
buildings1 <- merge(buildings, a1, by.x = "ID", by.y = "BUILDING_ID", all.x=TRUE)
buildings1$ACCESSIBLE_SCHOOLS_COMPLEX_100[is.na(buildings1$ACCESSIBLE_SCHOOLS_COMPLEX_100)] <- 0
buildings <- buildings1
rm (a,a1,buildings1)
save.image()
savehistory()
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_SNIP_400", TRUE)
freqhist.choise(buildings, "ACCESSIBLE_SCHOOLS_SNIP_100", TRUE)
names(buildings)
buildings1 <- buildings[1:12]
buildings1 <- buildings[1:12]
View(buildings1)
names(buildings)
buildings1 <- buildings[1:12, 13:15, 18, 19, 20, 21, 16, 22, 23, 17, 24, 25]
buildings1 <- buildings[c(1:12, 13:15, 18, 19, 20, 21, 16, 22, 23, 17, 24, 25)]
names(buildings1)
buildings <- buildings1
rm (buildings1)
save.image()
savehistory()
